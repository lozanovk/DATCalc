<!DOCTYPE html>
<html>
  <head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel='stylesheet' href='css/style.css' />
 
    <title>DAT / DTE / DATE Calculator</title>
    
  </head>

  <body>
  <!-- Optional JavaScript -->
 
  <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  
	<div id="backdrop" class="container" >
	<br>
	<div align="center">
		<h1> DAT / DTE / Date Calculator</h1>
	</div>

	<br><br>

     <div>
		<div class="container">
		<div class="form-group" align="center">
		  <div class="form-control cstm" align="center">
			<div class="center">

			  <label class="inputLabel" for="drugInput"><b>Calculate From</b></label>
			  <select class="form-select form-select-lg mb-3" id="selType" name="type" onchange="getFocus()">
					<option value="1">Date</option>
					<option value="2">DAT</option>
					<option value="3">DTE</option>
					<option value="4">Instant</option>
			  </select>

			</div>
		  </div>
		  <br><br>
		</div>
		</div>
		<br>
			
		<div id="div1">
			<div class="form-control cstm" align="center">
				<label for="meeting-time"><strong>Date / Time:&nbsp;&nbsp;  </strong></label>
				<input type="datetime-local" id="meeting-time"
				name="meeting-time" value="" onchange="calcFromDateTime()">
			</div>

				<ul class="list-group">
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DAT:&nbsp;&nbsp;</b><span id="dat1"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DTE:&nbsp;&nbsp;</b><span id="dte1"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;Date:&nbsp;&nbsp;</b><span id="date1" class="date-sm"></span></li>
					<li class="list-group-item"><b>Instant:&nbsp;&nbsp;</b><span id="inst1"></span></li>
				</ul>
		</div>
			
		<div id="div2" hidden>
			<div class="form-control cstm" align="center">
				<label for="datVal"><strong>DAT:&nbsp;&nbsp;  </strong></label>
				<input type="number" id="datVal"
				name="datVal" value="" onchange="calcFromDatVal()">
			</div>
				<ul class="list-group">
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DAT:&nbsp;&nbsp;</b><span id="dat2"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DTE:&nbsp;&nbsp;</b><span id="dte2"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;Date:&nbsp;&nbsp;</b><span id="date2" class="date-sm"></span></li>
					<li class="list-group-item"><b>Instant:&nbsp;&nbsp;</b><span id="inst2"></span></li>
				</ul>
		</div>
			
		<div id="div3" hidden>
			<div class="form-control cstm" align="center">
				<label for="dteVal"><strong>DTE:&nbsp;&nbsp;  </strong></label>
				<input type="number" id="dteVal"
				name="dteVal" value="" onchange="calcFromDteVal()">
			</div>
				<ul class="list-group">
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DAT:&nbsp;&nbsp;</b><span id="dat3"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DTE:&nbsp;&nbsp;</b><span id="dte3"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;Date:&nbsp;&nbsp;</b><span id="date3" class="date-sm"></span></li>
					<li class="list-group-item"><b>Instant:&nbsp;&nbsp;</b><span id="inst3"></span></li>
				</ul>
		</div>
			
		<div id="div4" hidden>
			<div class="form-control cstm" align="center">
				<label for="instVal"><strong>Instant:&nbsp;&nbsp;  </strong></label>
				<input type="number" id="instVal"
				name="instVal" value="" onchange="calcFromInstVal()">
			</div>
				<ul class="list-group">
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DAT:&nbsp;&nbsp;</b><span id="dat4"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;&nbsp;DTE:&nbsp;&nbsp;</b><span id="dte4"></span></li>
					<li class="list-group-item"><b>&nbsp;&nbsp;&nbsp;Date:&nbsp;&nbsp;</b><span id="date4" class="date-sm"></span></li>
					<li class="list-group-item"><b>Instant:&nbsp;&nbsp;</b><span id="inst4"></span></li>
				</ul>
		</div>				
	</div>
	</div>
  </body>

	<script>
	
	function getFocus() {
		var selection = document.getElementById("selType").value;
		
		if (selection == 1) {
			document.getElementById("div1").hidden = false;
			document.getElementById("div2").hidden = true;
			document.getElementById("div3").hidden = true;
			document.getElementById("div4").hidden = true;
		}else if (selection == 2) {
			document.getElementById("div1").hidden = true;
			document.getElementById("div2").hidden = false;
			document.getElementById("div3").hidden = true;
			document.getElementById("div4").hidden = true;
		}else if (selection == 3) {
			document.getElementById("div1").hidden = true;
			document.getElementById("div2").hidden = true;
			document.getElementById("div3").hidden = false;
			document.getElementById("div4").hidden = true;
		}else if (selection == 4) {
			document.getElementById("div1").hidden = true;
			document.getElementById("div2").hidden = true;
			document.getElementById("div3").hidden = true;
			document.getElementById("div4").hidden = false;
		}
	};

	function calcFromDateTime() {
		var dateTime = document.getElementById("meeting-time").value;
		var inputDate = new Date(dateTime);
		var originDate = new Date("1840-12-31T00:00:00");	
		var Difference_In_Time = inputDate.getTime() - originDate.getTime();
		var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
		  
		if (isNaN(Difference_In_Days)){
			document.getElementById("dte1").innerHTML = "";
			document.getElementById("dat1").innerHTML = "";
			document.getElementById("inst1").innerHTML = "";
			document.getElementById("date1").innerHTML = "";
		} else {
			document.getElementById("dte1").innerHTML = Math.floor(Difference_In_Days);
			document.getElementById("dat1").innerHTML = 121531 - Math.floor(Difference_In_Days);
			document.getElementById("inst1").innerHTML = (Difference_In_Time/1000) + 3362;
			document.getElementById("date1").innerHTML = inputDate;
		}
	};
	
	function calcFromDatVal() {
		var dat = document.getElementById("datVal").value;
		var datRnd = Math.ceil(dat);
		var visual = "";
		var originDate = new Date("1840-12-31T00:00:00");
		var mathDate = originDate.getTime();
		
		if (datRnd == dat) {
			visual = "";
		}else{
			visual = " (" + dat + ")"
		}
		
		if (isNaN(datRnd)){
			document.getElementById("dte2").innerHTML = "";
			document.getElementById("dat2").innerHTML = "";
			document.getElementById("inst2").innerHTML = "";
			document.getElementById("date2").innerHTML = "";
		} else {
			var trgtDate = new Date(originDate.getTime() - 3362000 +((121531-datRnd)*24*60*60*1000));
			var trgtTime = trgtDate.getTime() - originDate.getTime();
			document.getElementById("dte2").innerHTML = 121531 - datRnd ;
			document.getElementById("dat2").innerHTML = datRnd + visual;
			document.getElementById("inst2").innerHTML = (trgtTime/1000) + 3362;
			document.getElementById("date2").innerHTML = trgtDate;
		}
	};
	
	function calcFromDteVal() {
		var dte = document.getElementById("dteVal").value;
		var dteRnd = Math.ceil(dte);
		var dat = (dteRnd - 121531) * -1;
		var datRnd = Math.ceil(dat);
		var visual = "";
		var originDate = new Date("1840-12-31T00:00:00");
		var mathDate = originDate.getTime();
		
		if (dteRnd == dte) {
			visual = "";
		}else{
			visual = " (" + dte + ")"
		}
		
		if (isNaN(datRnd)){
			document.getElementById("dte3").innerHTML = "";
			document.getElementById("dat3").innerHTML = "";
			document.getElementById("inst3").innerHTML = "";
			document.getElementById("date3").innerHTML = "";
		} else {
			var trgtDate = new Date(originDate.getTime() - 3362000 +((121531-datRnd)*24*60*60*1000));
			var trgtTime = trgtDate.getTime() - originDate.getTime();
			document.getElementById("dte3").innerHTML = (121531 - datRnd) + visual ;
			document.getElementById("dat3").innerHTML = datRnd;
			document.getElementById("inst3").innerHTML = (trgtTime/1000) + 3362;
			document.getElementById("date3").innerHTML = trgtDate;
		}
	};
	
	function calcFromInstVal() {
		var inst = document.getElementById("instVal").value;
		var instRnd = Math.ceil(inst);
		var trgtTime = (instRnd -3362) * 1000;
		var visual = "";
		var originDate = new Date("1840-12-31T00:00:00");
		var mathDate = originDate.getTime();
		var trgtDate = new Date(trgtTime + mathDate);
		
		if (instRnd == inst) {
			visual = "";
		}else{
			visual = " (" + inst + ")"
		}
		
		if (isNaN(instRnd)){
			document.getElementById("dte4").innerHTML = "";
			document.getElementById("dat4").innerHTML = "";
			document.getElementById("inst4").innerHTML = "";
			document.getElementById("date4").innerHTML = "";
		} else {
			document.getElementById("dte4").innerHTML = "";//(121531 - datRnd) + visual ;
			document.getElementById("dat4").innerHTML = "";//datRnd;
			document.getElementById("inst4").innerHTML = instRnd + visual;//(trgtTime/1000) + 3362;
			document.getElementById("date4").innerHTML = trgtDate;
		}
	};
	
	</script>
	
	<script src='javascripts/javascripts.js'></script>
</html>